(this.webpackJsonpkeyboard=this.webpackJsonpkeyboard||[]).push([[0],{23:function(e,t,a){e.exports=a(81)},28:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){},78:function(e,t,a){},79:function(e,t,a){},80:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n,r=a(0),o=a.n(r),c=a(21),i=a.n(c),l=(a(28),a(3)),s=a(16);function u(e,t){switch(t.type){case n.AddPlaybackNote:return[].concat(Object(s.a)(e),[t.payload]);case n.ClearPlaybackNotes:return[];default:return Object(s.a)(e)}}!function(e){e.AddPlaybackNote="AddPlaybackNote",e.ClearPlaybackNotes="ClearPlaybackNotes"}(n||(n={}));var m,d=a(1),y=a.n(d),k=Object(r.createContext)({}),b=(k.Consumer,function(e){var t=Object(r.useRef)(0),a=Object(r.useReducer)(u,[]),c=Object(l.a)(a,2),i=c[0],s=c[1],m=Object(r.useCallback)((function(e){var a=(new Date).getTime()/1e3;0===t.current&&(t.current=a),e.time=d(a).toBarsBeatsSixteenths(),s({type:n.AddPlaybackNote,payload:e})}),[t]);Object(r.useEffect)((function(){if(1===i.length){var e=(new Date).getTime()/1e3;t.current=e}}),[i]);var d=function(e){return y.a.Time(e-t.current)};return o.a.createElement(k.Provider,{value:{captureNote:m,calculateDuration:function(e){return y.a.Time(((new Date).getTime()-e)/1e3).toNotation()},calculateTime:function(e){return y.a.Time(e-t.current).toBarsBeatsSixteenths()},captureStartTime:t.current,clearCaptureData:function(){s({type:n.ClearPlaybackNotes,payload:[]})},playbackNotes:i}},e.children)});function f(e,t){switch(t.type){case m.OverwriteKeyPressData:var a=t.payload;return e[a.keyPressed]=a.keyData,e;default:return e}}!function(e){e.OverwriteKeyPressData="OverwriteKeyPressData"}(m||(m={}));var v,p=a(22),E=(a(30),function(e){var t=Object(r.useContext)(k),a=Object(r.useState)(),n=Object(l.a)(a,2),c=n[0],i=n[1],s=Object(r.useState)((new y.a.Synth).toMaster()),u=Object(l.a)(s,1)[0],m=e.color,d=e.keyboardKey,b=e.note,f=e.style,v=function(){u.triggerAttack(b);var e=(new Date).getTime();i(e)},E=function(){u.triggerRelease();var e=t.calculateDuration(c),a={note:b,dur:e};t.captureNote(a)};return p.isMobile?o.a.createElement("div",{className:"key ".concat(m),style:f,onTouchStart:v,onTouchEnd:E},o.a.createElement("div",{className:"note-name"},b,"(",d,")")):o.a.createElement("div",{className:"key ".concat(m),style:f,onMouseDown:v,onMouseUp:E},o.a.createElement("div",{className:"note-name"},b,"(",d,")"))}),T=(a(31),a(14)),g=a.n(T);!function(e){e.a="C4",e.w="C#4",e.s="D4",e.e="Eb4",e.d="E4",e.f="F4",e.t="F#4",e.g="G4",e.y="G#4",e.h="A4",e.u="Bb4",e.j="B4",e.k="C5",e.i="C#5",e.l="D5",e.o="Eb5",e[";"]="E5"}(v||(v={}));var N=function(e){var t=Object(r.useContext)(k),a=Object(r.useReducer)(f,{}),n=Object(l.a)(a,2),c=n[0],i=n[1];return Object(r.useEffect)((function(){var e=function(e){return function(e){var t=v[e];if(t&&!g()(c[e],"isPressed",!1)){var a=c[e]||{};a.isPressed=!0,a.synth=a.synth||(new y.a.Synth).toMaster(),a.startTime=(new Date).getTime(),a.synth.triggerAttack(t),i({type:m.OverwriteKeyPressData,payload:{keyPressed:e,keyData:a}})}}(e.key.toString())};document.addEventListener("keydown",e,!1);var a=function(e){return function(e){if(v[e]&&g()(c[e],"isPressed",!1)){var a=c[e];a.synth.triggerRelease(),a.isPressed=!1;var n={note:v[e],dur:t.calculateDuration(a.startTime)};t.captureNote(n)}}(e.key.toString())};return document.addEventListener("keyup",a,!1),function(){window.removeEventListener("keydown",e),window.removeEventListener("keyup",a)}}),[t,c]),o.a.createElement("div",{className:"keyboard"},[{key:"C4",keyboardKey:"a"},{key:"C#4",keyboardKey:"w",color:"black",style:{left:"65px"}},{key:"D4",keyboardKey:"s"},{key:"Eb4",keyboardKey:"e",color:"black",style:{left:"200px"}},{key:"E4",keyboardKey:"d"},{key:"F4",keyboardKey:"f"},{key:"F#4",keyboardKey:"t",color:"black",style:{left:"432px"}},{key:"G4",keyboardKey:"g"},{key:"G#4",keyboardKey:"y",color:"black",style:{left:"551px"}},{key:"A4",keyboardKey:"h"},{key:"Bb4",keyboardKey:"u",color:"black",style:{left:"674px"}},{key:"B4",keyboardKey:"j"},{key:"C5",keyboardKey:"k"},{key:"C#5",keyboardKey:"i",color:"black",style:{left:"909px"}},{key:"D5",keyboardKey:"l"},{key:"Eb5",keyboardKey:"o",color:"black",style:{left:"1030px"}},{key:"E5",keyboardKey:";"}].map((function(e){return o.a.createElement(E,{key:e.key,note:e.key,keyboardKey:e.keyboardKey,color:e.color,style:e.style})})))},h=a(4),O=a(5),j=[{time:y.a.Time("0:0:0"),note:"D3",dur:"4n"},{time:y.a.Time("0:1:0"),note:"F3",dur:"8n."},{time:y.a.Time("0:1:3"),note:"D3",dur:"8n"},{time:y.a.Time("0:2:1"),note:"D3",dur:"16n"},{time:y.a.Time("0:2:2"),note:"G3",dur:"8n"},{time:y.a.Time("0:3:0"),note:"D3",dur:"8n"},{time:y.a.Time("0:3:2"),note:"C3",dur:"8n"},{time:y.a.Time("1:0:0"),note:"D3",dur:"4n"},{time:y.a.Time("1:1:0"),note:"A3",dur:"8n."},{time:y.a.Time("1:1:3"),note:"D3",dur:"8n"},{time:y.a.Time("1:2:1"),note:"D3",dur:"16n"},{time:y.a.Time("1:2:2"),note:"Bb3",dur:"8n"},{time:y.a.Time("1:3:0"),note:"A3",dur:"8n"},{time:y.a.Time("1:3:2"),note:"F3",dur:"8n"},{time:y.a.Time("2:0:0"),note:"D3",dur:"8n"},{time:y.a.Time("2:0:2"),note:"A3",dur:"8n"},{time:y.a.Time("2:1:0"),note:"D4",dur:"8n"},{time:y.a.Time("2:1:2"),note:"D3",dur:"16n"},{time:y.a.Time("2:1:3"),note:"C3",dur:"8n"},{time:y.a.Time("2:2:1"),note:"C3",dur:"16n"},{time:y.a.Time("2:2:2"),note:"A2",dur:"8n"},{time:y.a.Time("2:3:0"),note:"E3",dur:"8n"},{time:y.a.Time("2:3:2"),note:"D3",dur:"0:2:2"}],D=(a(78),function(e){var t=Object(r.useContext)(k),a=Object(r.useState)(),n=Object(l.a)(a,2),c=n[0],i=n[1],s=Object(r.useState)(),u=Object(l.a)(s,2),m=u[0],d=u[1],b=Object(r.useState)(j),f=Object(l.a)(b,2),v=f[0],p=f[1],E=Object(r.useState)(),T=Object(l.a)(E,2),g=T[0],N=T[1],D=Object(r.useState)((new y.a.Synth).toMaster()),w=Object(l.a)(D,1)[0];Object(r.useEffect)((function(){var e=t.playbackNotes;e.length>0?(N(e[e.length-1]),p(t.playbackNotes)):(N(j[j.length-1]),p(j))}),[t.playbackNotes]),Object(r.useEffect)((function(){m&&m.length>0&&(m.start(0),y.a.Transport.scheduleOnce((function(e){m.removeAll(),y.a.Transport.toggle(),i(!1)}),y.a.Time(g.time).toSeconds()+y.a.Time(g.dur).toSeconds()),y.a.Transport.toggle(),i(!0))}),[m,g]);return o.a.createElement("div",{className:"controls"},o.a.createElement("div",null,c?o.a.createElement("div",{onClick:function(){m.removeAll(),y.a.Transport.toggle(),i(!1)},title:"stop"},o.a.createElement(h.a,{size:"lg",icon:O.d})):o.a.createElement("div",{onClick:function(){d(new y.a.Part((function(e,t){w.triggerAttackRelease(t.note,t.dur,e)}),v))},title:"play"},o.a.createElement(h.a,{size:"lg",icon:O.c}))),o.a.createElement("div",{className:"record",title:"record"},o.a.createElement(h.a,{size:"lg",color:"red",icon:O.b})),o.a.createElement("div",{className:"clear",title:"clear",onClick:function(){t.clearCaptureData(),m&&m.length>0&&m.removeAll()}},o.a.createElement(h.a,{size:"lg",icon:O.a})))}),w=(a(79),function(e){var t=Object(r.useContext)(k);return o.a.createElement("div",{className:"play-back-display"},o.a.createElement("div",{className:"header"},o.a.createElement("span",{className:"note-header"},"Note"),o.a.createElement("span",{className:"duration-header"},"Duration"),o.a.createElement("span",{className:"time-header"},"Time")),o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"scroll-container"},t.playbackNotes.map((function(e,t){return o.a.createElement("div",{key:"note-".concat(e.note,"-").concat(t),className:"data"},o.a.createElement("span",{className:"note-data"},e.note),o.a.createElement("span",{className:"duration-data"},e.dur),o.a.createElement("span",{className:"time-data"},e.time))})))))}),C=(a(80),function(){return o.a.createElement("div",{className:"App"},o.a.createElement(b,null,o.a.createElement(N,null),o.a.createElement("div",{className:"playback-container"},o.a.createElement(w,null),o.a.createElement(D,null))))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[23,1,2]]]);
//# sourceMappingURL=main.4011a355.chunk.js.map